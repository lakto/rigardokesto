---
layout: main/post-blog.html
title: Configure Comment System
description: A simple, fully customizable comment system using Supabase as the database. Easily manage, display, and store comments with complete control and flexibility
keyword: comment system, apoxicam, supabase
cover: /asset/blog/comment.webp
date: 2024-12-03
tags:
 - Tutorial
---


This starter includes a built-in comment system, thanks to my friend [Mustofa-ID](https://mustofa.id) for helping me set it up. The comment system uses Supabase as the database.

> Here we go

### Supabase

1. **Create a Supabase Account**  
   First, create an account on **[Supabase](https://supabase.com)**.

2. **Create a New Project**  
   Once logged in, create a new project with the name of your website.

3. **Create a Table for Comments**  
   In the Supabase dashboard, go to **`SQL Editor`** and run the following query to create the `comments` table:

   ```sql
   create table comments (
       id bigint generated by default as identity not null,
       created_at timestamp with time zone not null default now(),
       name character varying not null,
       email character varying null,
       description text null,
       slug character varying not null,
       hidden boolean null,
       constraint comments_pkey primary key (id)
   );
   ```

4. **Run the Query**  
   Copy the query into the editor and click the **Run** button. This will create the `comments` table.

5. **Create Policies**  
   Set up policies to allow users to insert and view comments. Run the following queries in the **`SQL Editor`**:

   ```sql
   -- Allow users to create comments
   CREATE POLICY "Allow insert for all users"
   ON comments
   FOR INSERT
   WITH CHECK (true); 

   -- Allow users to read all comments that are not hidden
   CREATE POLICY "Allow select for all users"
   ON comments
   FOR SELECT
   USING (hidden = false);
   ```

### Configure the Comment System

1. **Get Supabase Project URL and API Key**  
   In your Supabase dashboard, go to **`Project Settings`** > **`API`**.  
   Here, you will find the **Project URL** and **API Key** (`anon public`).

2. **Create an `.env` File**  
   Create a `.env` file in your deployment provider (such as GitHub Pages, Netlify, etc.), and add the following variables:

   ```env
   SUPABASE_URL=https://your-project-url.supabase.co
   SUPABASE_KEY=your-anon-public-api-key
   ```

3. **Local Development**  
   You can also create a `.env` file for local development, but avoid hard-coding the values directly into your code.

> That's it! Your comment system is now configured. Have any question?
